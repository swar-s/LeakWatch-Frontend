<div class="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-800 text-white px-4 py-8 relative overflow-hidden">
  <!-- Cyberpunk SVG background -->
  <svg class="absolute inset-0 w-full h-full pointer-events-none opacity-20 z-0" viewBox="0 0 1440 900" fill="none" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <linearGradient id="cyberGradient" x1="0" y1="0" x2="1440" y2="900" gradientUnits="userSpaceOnUse">
        <stop stop-color="#00fff0" />
        <stop offset="1" stop-color="#7f00ff" />
      </linearGradient>
    </defs>
    <g>
      <rect x="0" y="0" width="1440" height="900" fill="url(#cyberGradient)" opacity="0.08" />
      <g stroke="url(#cyberGradient)" stroke-width="1">
        <path d="M0 100 L1440 800" />
        <path d="M0 800 L1440 100" />
        <path d="M720 0 L720 900" />
        <path d="M0 450 L1440 450" />
        <circle cx="720" cy="450" r="300" fill="none" />
      </g>
    </g>
  </svg>
  <!-- PNG Fallback Cyber Image -->
  <img src="/bg-image.jpg" alt="cyber matrix code background" class="absolute inset-0 w-full h-full object-cover opacity-15 z-0" loading="lazy" />
  <!-- Glassmorphism Scan Card -->
  <div class="w-full max-w-md p-8 rounded-2xl shadow-xl bg-gray-900/70 backdrop-blur-md border border-gray-700 z-10 animate-fade-in-up mt-16">
    <h2 class="mb-6 text-3xl font-extrabold text-center tracking-wider">Scan for Breaches</h2>
    <form [formGroup]="scanForm" (ngSubmit)="onSubmit()">
      <div class="mb-5">
        <label class="block mb-1 font-semibold text-blue-400">Email</label>
        <input type="email" formControlName="email" class="w-full px-4 py-2 rounded-lg bg-gray-800/80 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-purple-400 placeholder-gray-400 transition" placeholder="Enter email to scan" />
        <div *ngIf="scanForm.get('email')?.touched && scanForm.get('email')?.invalid" class="text-red-400 text-xs mt-1">
          <span *ngIf="scanForm.get('email')?.errors?.['required']">Email is required.</span>
          <span *ngIf="scanForm.get('email')?.errors?.['email']">Invalid email format.</span>
        </div>
      </div>
      <div *ngIf="error" class="mb-4 text-red-400 text-center font-semibold animate-pulse">{{ error }}</div>
      <button type="submit" [disabled]="loading" class="w-full py-2 font-bold text-lg rounded-full bg-gradient-to-r from-blue-400 via-blue-500 to-blue-400 hover:from-blue-600 hover:to-blue-600 shadow-lg transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-cyan-500/50 disabled:opacity-60 disabled:cursor-not-allowed">
        {{ loading ? 'Scanning...' : 'Scan Now' }}
      </button>
    </form>
    <div *ngIf="result" class="mt-8">
      <h3 class="text-xl font-bold mb-2 text-cyan-300">Scan Summary</h3>
      <div *ngIf="result.genai_summary">
        <pre class="bg-gray-800/80 rounded-lg p-4 border border-gray-700 text-white whitespace-pre-wrap">{{ result.genai_summary | json }}</pre>
      </div>
      <div *ngIf="!result.genai_summary">
        <span class="text-red-400">No summary available.</span>
      </div>
    </div>
  </div>
</div>
